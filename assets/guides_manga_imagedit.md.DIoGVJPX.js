import{_ as h,a as c,H as a,k as i,f as o,R as s,w as m,C as t,o as u}from"./chunks/framework.DaaYPR27.js";const f="/ss/waifu.jpg",b="/ss/scaling.png",S=JSON.parse('{"title":"Manga Image Editing","description":"","frontmatter":{"title":"Manga Image Editing","customDescription":"Image Magick guide for Grayscaling, Leveling, and Optimizing","outline":[2,3],"og":{"image":"https://files.catbox.moe/l2g45x.png"}},"headers":[],"relativePath":"guides/manga/imagedit.md","filePath":"guides/manga/imagedit.md","lastUpdated":1750395686000}'),y={name:"guides/manga/imagedit.md"},v={id:"simple-denoising",tabindex:"-1"},k={class:"info custom-block"},_={id:"grayscaling",tabindex:"-1"},w={id:"leveling",tabindex:"-1"},T={id:"optimizing",tabindex:"-1"};function x(P,e,C,I,A,G){const l=t("NolebasePageProperties"),r=t("GradientCard"),g=t("Authors"),n=t("Feedback"),d=t("tooltip"),p=t("NolebaseGitChangelog");return u(),c("div",null,[a(l),a(r,{title:"Manga Image Editing",description:"Image Magick guide for Grayscaling, Leveling, and Optimizing",theme:"turquoise",variant:"thin"}),e[14]||(e[14]=i("p",null,"A simple to understand guide covering the most important page edits.",-1)),a(g,{page:"imagedit"}),i("h2",v,[e[0]||(e[0]=o("Simple Denoising ")),a(n,{heading:"Simple Denoising"}),e[1]||(e[1]=i("a",{class:"header-anchor",href:"#simple-denoising","aria-label":'Permalink to "Simple Denoising"'},"​",-1))]),e[15]||(e[15]=s('<p>One can simple denoise pages using Waifu2x, which, contrary to its primary function, is not only used for upscaling. For Windows, you could use <a href="https://github.com/lltcggie/waifu2x-caffe/releases" target="_blank" rel="noreferrer"><strong>waifu2x-caffe</strong></a>, which has a GUI, but is limited to NVIDIA GPUs. Having a reasonably fast GPU is highly recommended (for reference: a GTX 1650 will perform well, while a GT 730 will struggle). Of course, you can denoise in CPU mode, but it will be much slower.</p><p>Using the <code>2-D Illust (CUnet Model)</code> on <code>Level 2 Denoise Only</code> and <code>Use TTA Mode</code> unchecked is generally &quot;good enough&quot; for denoising on low to mid-range machines. Keep in mind that the denoise level depends on JPEG quality. There&#39;s no hard rule, but generally, for a q92 image, level 0 should be enough, whereas a q70 image would probably require level 2.</p><figure><img src="'+f+'" alt="generic denoising" tabindex="0" loading="lazy"><figcaption>generic denoising</figcaption></figure><p>Under processing Speed Settings, it is recommended to leave the split size on default unless you are getting weird/incorrect outputs, in which case you might need to adjust it. You can increase the batch size if your GPU can handle more load to process the splits in parallel to speed up the denoising.</p><p>The <code>Use TTA Mode</code> will process each split piece multiple times, rotating around (8 rotations in total). This generally improves the denoising, but the total processing will take 8 times longer, so for simple, fast, good-enough denoising, you can leave it unchecked unless you have the time for it.</p><p>On a final note, it is recommended to set the output extension to PNG, as this is a lossless file format, unlike JPEG, which would reintroduce artifacts that you just took the effort to denoise.</p><p>And last but not least: if you have a reasonably fast AMD GPU, consider using other Waifu2x implementations like <a href="https://github.com/YukihoAA/waifu2x_snowshell" target="_blank" rel="noreferrer"><strong>waifu2x-snowshell</strong></a>, as Waifu2x-Caffe only supports NVIDIA.</p><br>',8)),i("div",k,[e[6]||(e[6]=i("p",{class:"custom-block-title"},"Tools Needed",-1)),e[7]||(e[7]=i("p",null,"The following tools will be used for any kind of grayscaling, leveling, and lossless optimizing:",-1)),i("ul",null,[e[4]||(e[4]=i("li",null,[i("a",{href:"https://imagemagick.org/index.php",target:"_blank",rel:"noreferrer"},"ImageMagick")],-1)),e[5]||(e[5]=i("li",null,[i("a",{href:"https://css-ig.net/pingo",target:"_blank",rel:"noreferrer"},"Pingo")],-1)),i("li",null,[e[3]||(e[3]=i("a",{href:"https://github.com/DrWhoCares/imgdanke",target:"_blank",rel:"noreferrer"},"imgdanke",-1)),a(d,null,{default:m(()=>e[2]||(e[2]=[o("Optional for GUI but does not support Pingo version 1+ at the moment.")])),_:1})])])]),i("h2",_,[e[8]||(e[8]=o("Grayscaling ")),a(n,{heading:"Grayscaling"}),e[9]||(e[9]=i("a",{class:"header-anchor",href:"#grayscaling","aria-label":'Permalink to "Grayscaling"'},"​",-1))]),e[16]||(e[16]=s('<p>The majority of the panels are black and white and can safely be grayscaled if they aren&#39;t already (e.g., 24-bit JPEGs or PNGs) to reduce the file size of those images.</p><p>The command (CLI) to use with ImageMagick to batch process all images inside the current folder (that your command prompt is in) would be:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>magick mogrify -format png -dither None -colorspace Gray *.png</span></span></code></pre></div>',3)),i("h2",w,[e[10]||(e[10]=o("Leveling ")),a(n,{heading:"Leveling"}),e[11]||(e[11]=i("a",{class:"header-anchor",href:"#leveling","aria-label":'Permalink to "Leveling"'},"​",-1))]),e[17]||(e[17]=s('<p>Leveling images is required when blacks aren&#39;t actually black, and after grayscaling, they may look a bit washed out. Before grayscaling, images can even have a hue or colored tint.</p><figure><img src="'+b+'" alt="leveling example" tabindex="0" loading="lazy"><figcaption>leveling example</figcaption></figure><h3 id="stretching" tabindex="-1">Stretching <a class="header-anchor" href="#stretching" aria-label="Permalink to &quot;Stretching&quot;">​</a></h3><p>A simple method without too much effort would be using the <code>-contrast-stretch</code> option from ImageMagick, which will try to stretch the closest blacks to #000 and the highest whites to #fff. However, this does not work properly if there are pixels closer to black than the intended targeted blacks, as the stretch finds the lowest/highest colors.</p><p>The command (CLI) to use with ImageMagick to batch process all images inside a folder would be:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>magick mogrify -format png -dither None -colorspace Gray -contrast-stretch 0%x0% *.png</span></span></code></pre></div><h3 id="manual-leveling" tabindex="-1">Manual Leveling <a class="header-anchor" href="#manual-leveling" aria-label="Permalink to &quot;Manual Leveling&quot;">​</a></h3><p>With manual leveling, you need to find the minimum black point to have your targeted blacks be actual black (#000) and raise the gamma to compensate for the raised blacks to avoid over-leveling the image. This can be somewhat of a trial-and-error process until you get a satisfying result. As a starting point, you can use the following value for ImageMagick: <code>13,100%,1.3</code> (used in the example image shown above), where 13 is the raised black point and 1.3 is the gamma adjustment value.</p><p>The command (CLI) to use with ImageMagick to batch process all images inside a folder would be:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>magick mogrify -format png -dither None -colorspace Gray -level 13,100%,1.3 *.png</span></span></code></pre></div>',10)),i("h2",T,[e[12]||(e[12]=o("Optimizing ")),a(n,{heading:"Optimizing"}),e[13]||(e[13]=i("a",{class:"header-anchor",href:"#optimizing","aria-label":'Permalink to "Optimizing"'},"​",-1))]),e[18]||(e[18]=s('<p>You can safely and losslessly optimize images to reduce file size even more using the following command (CLI) with Pingo version 1+:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pingo -lossless -s4 path-to-folder</span></span></code></pre></div>',2)),a(p)])}const M=h(y,[["render",x]]);export{S as __pageData,M as default};
